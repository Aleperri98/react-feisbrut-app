{"version":3,"file":"static/js/890.29d04e30.chunk.js","mappings":"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","sources":["webpack://feisbrut-app/./src/components/FriendPreview/FriendPreview.module.scss?dee1","components/FriendPreview/index.jsx","webpack://feisbrut-app/./src/components/Modal/Modal.module.scss?b72d","components/Modal/index.jsx","libs/http.js","webpack://feisbrut-app/./src/components/MessagePreview/MessagePreview.module.scss?e5f3","components/ViewDate/index.jsx","components/MessagePreview/index.jsx","webpack://feisbrut-app/./src/components/Post/Post.module.scss?af4e","components/Post/index.jsx","webpack://feisbrut-app/./src/pages/Home/Home.module.scss?ce6f","pages/Home/index.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"friend\":\"FriendPreview_friend__LEClw\"};","import styles from \"./FriendPreview.module.scss\";\n\nconst FriendPreview = (props) => {\n  const data = props.data || {\n    name: \"Friend\",\n    photo: \"https://randomuser.me/api/portraits/women/59.jpg\",\n  };\n\n  return (\n    <div className={styles.friend}>\n      <img src={data.photo} alt={data.name} />\n      <p>{data.name}</p>\n    </div>\n  );\n};\n\nexport { FriendPreview };","// extracted by mini-css-extract-plugin\nexport default {\"Modal\":\"Modal_Modal__ZZcE+\"};","import styles from \"./Modal.module.scss\";\n\nconst Modal = ({ bgColor, text }) => {\n  return (\n    <div className={styles.Modal} style={{ background: `${bgColor}` }}>\n      <p>{text}</p>\n    </div>\n  );\n};\n\nexport default Modal;","const BASE_URL = \"https://edgemony-backend.herokuapp.com\";\n\nconst http = (resource) =>\n  fetch(BASE_URL + resource).then((response) => response.json());\n\nconst httpPOST = (resource, data) =>\n  fetch(BASE_URL + resource, {\n    method: \"POST\",\n    headers: {\n      \"Content-type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  }).then((response) => response.json());\n\nconst httpDELETE = (resource) =>\n  fetch(BASE_URL + resource, {\n    method: \"DELETE\",\n    headers: {\n      \"Content-type\": \"application/json\",\n    },\n  }).then((response) => response.json());\n\n// Popola la lista degli amici, in base alla lista friendsNames\nconst fillFriendsList = (friendsNames) => {\n  let value = 0;\n  for (value in [...Array(friendsNames.length).keys()]) {\n    httpPOST(\"/friends\", {\n      name: friendsNames[value],\n      photo: `https://randomuser.me/api/portraits/men/${value}.jpg`,\n    });\n\n    setTimeout(() => {}, 100);\n  }\n};\n\nexport { http, httpPOST, httpDELETE, fillFriendsList };","// extracted by mini-css-extract-plugin\nexport default {\"message\":\"MessagePreview_message__L86rC\"};","import { formatDistance } from \"date-fns\";\nimport { it } from \"date-fns/locale\";\n\nconst ViewDate = (props) => {\n    const date = props.date;\n    return(\n        <p>\n            <small>\n                {formatDistance(new Date(date), new Date(), {\n                    addSuffix: true,\n                    locale:it,\n                    })}\n            </small>\n        </p>\n    )\n}\n\nexport {ViewDate};","import styles from \"./MessagePreview.module.scss\";\nimport {ViewDate} from \"./../ViewDate\";\n\nconst MessagePreview = (props) => {\n    const data = props.data || {\n        text:\"lorem ipsum\", date: new Date(), sender:\"User\"\n    };\n\n    return(\n        <div className={styles.message}>\n            <h5>{data.sender}</h5>\n            <ViewDate date={data.date} />\n            <p>{data.text}</p>\n        </div>\n    );\n};\n\nexport {MessagePreview};","// extracted by mini-css-extract-plugin\nexport default {\"post\":\"Post_post__lBCQo\",\"deleteBtn\":\"Post_deleteBtn__jRJ2N\"};","import { ViewDate } from './../ViewDate';\nimport { useState } from \"react\";\nimport { httpDELETE } from \"../../libs/http\";\n\nimport Modal from \"./../Modal\";\nimport styles from \"./Post.module.scss\";\n\nconst Post = (props) => {\n  const data = props.data || {\n    author: \"User\",\n    text: \"text\",\n    date: new Date(),\n    photo:\n      \"https://images.unsplash.com/photo-1639512398860-be15f48100ea?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1024&q=80\",\n  };\n\n\n  const handleDeletePost = () => {\n    httpDELETE(`/posts/${props.data.id}`).then(() => {});\n    setModalVisibile(true);\n\n    setTimeout(() => {\n      setModalVisibile(false);\n      window.location.href = \"/\";\n    }, 3000);\n  };\n\n  const [isModalVisible, setModalVisibile] = useState(false);\n\n  return (\n    <article className={styles.post}>\n      {isModalVisible && (\n        <Modal bgColor=\"lightcoral\" text=\"Il post Ã¨ stato rimosso\" />\n      )}\n      <button onClick={handleDeletePost} className={styles.deleteBtn}>\n        X\n      </button>\n\n      <h3>{data.author}</h3>\n            <ViewDate date = {data.date} />\n            <p>{data.text}</p>\n            { data.photo ? <img src={data.photo} alt={data.author}/> : <></> }\n        </article>\n    );\n};\n\nexport { Post };","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"Home_home__9Ke73\",\"grid\":\"Home_grid__bwEHJ\",\"createPostBtn\":\"Home_createPostBtn__-2OKK\",\"friend\":\"Home_friend__8TVqP\"};","import { useState, useEffect } from \"react\";\nimport { FriendPreview } from \"../../components/FriendPreview\";\nimport { MessagePreview } from \"../../components/MessagePreview\";\nimport { Post } from \"../../components/Post\";\nimport { http } from \"./../../libs/http\";\nimport { Link } from \"react-router-dom\";\nimport styles from \"./Home.module.scss\";\n\nconst friends = [];\n\nconst messages = [];\n\nconst posts = [];\n\nconst Home = () => {\n  const [friendsPreview, setFriendsPreview] = useState(friends);\n  const [allPosts, setAllPosts] = useState(posts);\n  const [messagesPreview, setMessagesPreview] = useState(messages);\n\n  useEffect(() => {\n   \n\n    http(\"/friends?_limit=4\").then((data) => setFriendsPreview(data));\n    http(\"/messages?_limit=4\").then((data) => setMessagesPreview(data));\n    http(\"/posts\").then((data) => setAllPosts(data.reverse()));\n\n  }, []);\n\n  return (\n    <section className={styles.home}>\n      <h3>Bevenuto utente</h3>\n      <div className={styles.grid}>\n        <aside>\n          {friendsPreview.map((friend, index) => (\n            <FriendPreview key={index} data={friend} />\n          ))}\n        </aside>\n        <main>\n          <Link to=\"/new-post\">\n            <button className={styles.createPostBtn}>\n              + Create a new post!\n            </button>\n          </Link>\n          {allPosts.map((post, index) => (\n            <Post key={index} data={post} />\n          ))}\n        </main>\n        <aside>\n          {messagesPreview.map((message, index) => (\n            <MessagePreview key={index} data={message} />\n          ))}\n        </aside>\n      </div>\n    </section>\n  );\n};\n\nexport default Home;"],"names":["FriendPreview","props","data","name","photo","className","styles","src","alt","bgColor","text","style","background","BASE_URL","http","resource","fetch","then","response","json","httpPOST","method","headers","body","JSON","stringify","httpDELETE","ViewDate","date","formatDistance","Date","addSuffix","locale","it","MessagePreview","sender","Post","author","useState","isModalVisible","setModalVisibile","Modal","onClick","id","setTimeout","window","location","href","friends","messages","posts","friendsPreview","setFriendsPreview","allPosts","setAllPosts","messagesPreview","setMessagesPreview","useEffect","reverse","map","friend","index","to","post","message"],"sourceRoot":""}